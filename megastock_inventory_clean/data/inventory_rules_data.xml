<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- ========== REGLAS DE STOCK MÍNIMO ========== -->
        <!-- All orderpoint rules temporarily commented for installation -->
        
        <!--
        Regla Stock Mínimo - Papel KRAFT 125g
        <record id="stock_rule_kraft_125" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_kraft_125"/>
            <field name="location_id" ref="stock_location_kraft"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">2.0</field>
            <field name="product_max_qty">20.0</field>
            <field name="qty_multiple">5.0</field>
            <field name="lead_days_date">14</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Papel KRAFT 150g
        <record id="stock_rule_kraft_150" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_kraft_150"/>
            <field name="location_id" ref="stock_location_kraft"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">2.0</field>
            <field name="product_max_qty">15.0</field>
            <field name="qty_multiple">5.0</field>
            <field name="lead_days_date">14</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Papel Medium 90g
        <record id="stock_rule_medium_90" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_medium_90"/>
            <field name="location_id" ref="stock_location_medium"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">3.0</field>
            <field name="product_max_qty">25.0</field>
            <field name="qty_multiple">3.0</field>
            <field name="lead_days_date">7</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Papel Medium 125g
        <record id="stock_rule_medium_125" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_medium_125"/>
            <field name="location_id" ref="stock_location_medium"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">2.5</field>
            <field name="product_max_qty">20.0</field>
            <field name="qty_multiple">3.0</field>
            <field name="lead_days_date">7</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Papel Liner 125g
        <record id="stock_rule_liner_125" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_liner_125"/>
            <field name="location_id" ref="stock_location_liner"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">2.0</field>
            <field name="product_max_qty">18.0</field>
            <field name="qty_multiple">3.0</field>
            <field name="lead_days_date">7</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Tinta Negra
        <record id="stock_rule_tinta_negra" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_tinta_negra"/>
            <field name="location_id" ref="stock_location_inks_cmyk"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">50.0</field>            <field name="product_max_qty">200.0</field>            <field name="qty_multiple">20.0</field>               <field name="lead_days_date">10</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Tinta Cyan
        <record id="stock_rule_tinta_cyan" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_tinta_cyan"/>
            <field name="location_id" ref="stock_location_inks_cmyk"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">30.0</field>
            <field name="product_max_qty">120.0</field>
            <field name="qty_multiple">20.0</field>
            <field name="lead_days_date">10</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Almidón
        <record id="stock_rule_almidon" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_almidon"/>
            <field name="location_id" ref="stock_location_starch"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">200.0</field>            <field name="product_max_qty">1000.0</field>            <field name="qty_multiple">100.0</field>            <field name="lead_days_date">5</field>
            <field name="active">True</field>
        </record>

        Regla Stock Mínimo - Goma PVA
        <record id="stock_rule_goma_pva" model="stock.warehouse.orderpoint">
            <field name="product_id" ref="product_goma_pva"/>
            <field name="location_id" ref="stock_location_pva"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="product_min_qty">100.0</field>            <field name="product_max_qty">500.0</field>            <field name="qty_multiple">50.0</field>            <field name="lead_days_date">12</field>
            <field name="active">True</field>
        </record>

        CONFIGURACIÓN DE ALERTAS
        
        Configurar parámetros del sistema para alertas
        <record id="param_stock_alert_enabled" model="ir.config_parameter">
            <field name="key">megastock.stock_alert_enabled</field>
            <field name="value">True</field>
        </record>

        <record id="param_stock_alert_email" model="ir.config_parameter">
            <field name="key">megastock.stock_alert_email</field>
            <field name="value">gabriela.encarnacion@megastock.ec</field>
        </record>

        <record id="param_stock_alert_threshold" model="ir.config_parameter">
            <field name="key">megastock.stock_alert_threshold_percent</field>
            <field name="value">20</field>        </record>

        CONFIGURACIÓN DE LOTES
        
        Configurar parámetros para control de lotes
        <record id="param_lot_traceability" model="ir.config_parameter">
            <field name="key">megastock.lot_traceability_enabled</field>
            <field name="value">True</field>
        </record>

        <record id="param_lot_expiry_days" model="ir.config_parameter">
            <field name="key">megastock.lot_default_expiry_days</field>
            <field name="value">365</field>        </record>

        <record id="param_lot_naming_pattern" model="ir.config_parameter">
            <field name="key">megastock.lot_naming_pattern</field>
            <field name="value">{supplier_code}-{date}-{sequence}</field>
        </record>

        REGLAS DE ROUTING STOCK
        
        Regla: Materias Primas van a su ubicación específica
        <record id="stock_rule_raw_materials_routing" model="stock.rule">
            <field name="name">Routing Materias Primas</field>
            <field name="action">pull</field>
            <field name="sequence">10</field>
            <field name="location_src_id" ref="stock.stock_location_suppliers"/>
            <field name="location_dest_id" ref="stock_location_raw_materials"/>
            <field name="procure_method">make_to_stock</field>
            <field name="route_id" ref="stock.route_warehouse0_mto"/>
            <field name="picking_type_id" ref="stock.picking_type_in"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="company_id" ref="base.main_company"/>
        </record>

        Regla: Productos terminados van a ubicación específica
        <record id="stock_rule_finished_goods_routing" model="stock.rule">
            <field name="name">Routing Productos Terminados</field>
            <field name="action">pull</field>
            <field name="sequence">20</field>
            <field name="location_src_id" ref="stock_location_wip"/>
            <field name="location_dest_id" ref="stock_location_finished_goods"/>
            <field name="procure_method">make_to_stock</field>
            <field name="route_id" ref="mrp.route_warehouse0_manufacture"/>
            <field name="picking_type_id" ref="stock.picking_type_internal"/>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="company_id" ref="base.main_company"/>
        </record>

        CONFIGURACIÓN DE TRAZABILIDAD
        
        Habilitar trazabilidad completa en productos críticos
        <record id="product_kraft_125" model="product.template">
            <field name="tracking">lot</field>
            <field name="use_expiration_date">True</field>
            <field name="expiration_time">365</field>            <field name="use_time">True</field>
            <field name="removal_time">30</field>            <field name="alert_time">60</field>        </record>

        <record id="product_kraft_150" model="product.template">
            <field name="tracking">lot</field>
            <field name="use_expiration_date">True</field>
            <field name="expiration_time">365</field>
            <field name="use_time">True</field>
            <field name="removal_time">30</field>
            <field name="alert_time">60</field>
        </record>

        Configurar tintas con expiración más corta
        <record id="product_tinta_negra" model="product.template">
            <field name="tracking">lot</field>
            <field name="use_expiration_date">True</field>
            <field name="expiration_time">180</field>            <field name="use_time">True</field>
            <field name="removal_time">15</field>            <field name="alert_time">30</field>        </record>
        -->

    </data>
</odoo>